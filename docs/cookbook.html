<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>AlgoTree Cookbook &#8212; AlgoTree 1.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=8d563738"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FlatForest" href="flat_forest.html" />
    <link rel="prev" title="AlgoTree: Comprehensive Tutorial" href="tutorial.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="algotree-cookbook">
<h1>AlgoTree Cookbook<a class="headerlink" href="#algotree-cookbook" title="Link to this heading">¶</a></h1>
<p>This cookbook provides practical recipes for common tree manipulation tasks using AlgoTree v1.0.</p>
<section id="tree-construction-patterns">
<h2>Tree Construction Patterns<a class="headerlink" href="#tree-construction-patterns" title="Link to this heading">¶</a></h2>
<section id="building-a-file-system-tree">
<h3>Building a File System Tree<a class="headerlink" href="#building-a-file-system-tree" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree</span><span class="w"> </span><span class="kn">import</span> <span class="n">TreeBuilder</span>

<span class="c1"># Build a file system structure</span>
<span class="n">fs</span> <span class="o">=</span> <span class="p">(</span><span class="n">TreeBuilder</span><span class="p">()</span>
    <span class="o">.</span><span class="n">root</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;directory&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">child</span><span class="p">(</span><span class="s2">&quot;home&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;directory&quot;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">child</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;directory&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">child</span><span class="p">(</span><span class="s2">&quot;documents&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;directory&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">child</span><span class="p">(</span><span class="s2">&quot;report.pdf&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;file&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1024</span><span class="p">)</span>
                <span class="o">.</span><span class="n">sibling</span><span class="p">(</span><span class="s2">&quot;notes.txt&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;file&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">256</span><span class="p">)</span>
                <span class="o">.</span><span class="n">up</span><span class="p">()</span>
            <span class="o">.</span><span class="n">sibling</span><span class="p">(</span><span class="s2">&quot;downloads&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;directory&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">child</span><span class="p">(</span><span class="s2">&quot;data.csv&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;file&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">2048</span><span class="p">)</span>
                <span class="o">.</span><span class="n">up</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="o">.</span><span class="n">sibling</span><span class="p">(</span><span class="s2">&quot;alice&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;directory&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">child</span><span class="p">(</span><span class="s2">&quot;projects&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;directory&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">up</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="o">.</span><span class="n">sibling</span><span class="p">(</span><span class="s2">&quot;etc&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;directory&quot;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">child</span><span class="p">(</span><span class="s2">&quot;config.ini&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;file&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">128</span><span class="p">)</span>
    <span class="o">.</span><span class="n">build</span><span class="p">())</span>
</pre></div>
</div>
</section>
<section id="building-an-organization-chart">
<h3>Building an Organization Chart<a class="headerlink" href="#building-an-organization-chart" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree</span><span class="w"> </span><span class="kn">import</span> <span class="n">Node</span>

<span class="c1"># Build org chart with Node API</span>
<span class="n">ceo</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;CEO&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Chief Executive Officer&quot;</span><span class="p">,</span> <span class="n">reports</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">cto</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;CTO&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Chief Technology Officer&quot;</span><span class="p">,</span> <span class="n">reports</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">cfo</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;CFO&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Chief Financial Officer&quot;</span><span class="p">,</span> <span class="n">reports</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">eng_mgr</span> <span class="o">=</span> <span class="n">cto</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;Engineering Manager&quot;</span><span class="p">,</span> <span class="n">reports</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">qa_mgr</span> <span class="o">=</span> <span class="n">cto</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;QA Manager&quot;</span><span class="p">,</span> <span class="n">reports</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="n">eng_mgr</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;Senior Engineer 1&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;senior&quot;</span><span class="p">)</span>
<span class="n">eng_mgr</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;Senior Engineer 2&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;senior&quot;</span><span class="p">)</span>
<span class="n">eng_mgr</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;Junior Engineer&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;junior&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="creating-from-dsl">
<h3>Creating from DSL<a class="headerlink" href="#creating-from-dsl" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree</span><span class="w"> </span><span class="kn">import</span> <span class="n">parse_tree</span>

<span class="c1"># Visual DSL</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">parse_tree</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">root</span>
<span class="s2">├── branch1</span>
<span class="s2">│   ├── leaf1</span>
<span class="s2">│   └── leaf2</span>
<span class="s2">└── branch2</span>
<span class="s2">    └── leaf3</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>

<span class="c1"># Indent DSL</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">parse_tree</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">root</span>
<span class="s2">  branch1</span>
<span class="s2">    leaf1</span>
<span class="s2">    leaf2</span>
<span class="s2">  branch2</span>
<span class="s2">    leaf3</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>

<span class="c1"># S-expression DSL</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">parse_tree</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">(root</span>
<span class="s2">  (branch1</span>
<span class="s2">    (leaf1)</span>
<span class="s2">    (leaf2))</span>
<span class="s2">  (branch2</span>
<span class="s2">    (leaf3)))</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="tree-navigation-patterns">
<h2>Tree Navigation Patterns<a class="headerlink" href="#tree-navigation-patterns" title="Link to this heading">¶</a></h2>
<section id="finding-nodes">
<h3>Finding Nodes<a class="headerlink" href="#finding-nodes" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree</span><span class="w"> </span><span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">dotmatch</span><span class="p">,</span> <span class="n">pattern_match</span>

<span class="c1"># Create a sample tree</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;app&quot;</span><span class="p">)</span>
<span class="n">models</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;models&quot;</span><span class="p">)</span>
<span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;model&quot;</span><span class="p">)</span>
<span class="n">post</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;post&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;model&quot;</span><span class="p">)</span>

<span class="c1"># Find by exact path</span>
<span class="n">users</span> <span class="o">=</span> <span class="n">dotmatch</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;app.models.user&quot;</span><span class="p">)</span>

<span class="c1"># Find with wildcards</span>
<span class="n">all_models</span> <span class="o">=</span> <span class="n">dotmatch</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;app.models.*&quot;</span><span class="p">)</span>

<span class="c1"># Find anywhere in tree</span>
<span class="n">all_models</span> <span class="o">=</span> <span class="n">dotmatch</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;app.**.model&quot;</span><span class="p">)</span>

<span class="c1"># Find by attributes</span>
<span class="n">models</span> <span class="o">=</span> <span class="n">pattern_match</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;model&quot;</span><span class="p">}})</span>
</pre></div>
</div>
</section>
<section id="path-operations">
<h3>Path Operations<a class="headerlink" href="#path-operations" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get path from root to node</span>
<span class="n">user_node</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;user&quot;</span><span class="p">)</span>
<span class="n">path</span> <span class="o">=</span> <span class="n">user_node</span><span class="o">.</span><span class="n">get_path</span><span class="p">()</span>  <span class="c1"># [root, models, user]</span>

<span class="c1"># Get dot path string</span>
<span class="n">paths</span> <span class="o">=</span> <span class="n">dotmatch</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;**.user&quot;</span><span class="p">,</span> <span class="n">return_paths</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># Returns: [&quot;app.models.user&quot;]</span>

<span class="c1"># Check if path exists</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree</span><span class="w"> </span><span class="kn">import</span> <span class="n">dotexists</span>
<span class="k">if</span> <span class="n">dotexists</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;app.models.user&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;User model exists&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="tree-transformation-patterns">
<h2>Tree Transformation Patterns<a class="headerlink" href="#tree-transformation-patterns" title="Link to this heading">¶</a></h2>
<section id="filtering-trees">
<h3>Filtering Trees<a class="headerlink" href="#filtering-trees" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree</span><span class="w"> </span><span class="kn">import</span> <span class="n">FluentNode</span><span class="p">,</span> <span class="n">dotfilter</span>

<span class="c1"># Filter with FluentNode</span>
<span class="n">large_nodes</span> <span class="o">=</span> <span class="p">(</span><span class="n">FluentNode</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="o">.</span><span class="n">descendants</span><span class="p">()</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="o">.</span><span class="n">to_list</span><span class="p">())</span>

<span class="c1"># Filter with dot expressions</span>
<span class="n">test_files</span> <span class="o">=</span> <span class="n">dotfilter</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;contains(@.name, &#39;test&#39;)&quot;</span><span class="p">)</span>

<span class="c1"># Complex filtering</span>
<span class="n">important</span> <span class="o">=</span> <span class="n">dotfilter</span><span class="p">(</span><span class="n">root</span><span class="p">,</span>
    <span class="s2">&quot;@.priority == &#39;high&#39; and @.children.length &gt; 2&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="transforming-nodes">
<h3>Transforming Nodes<a class="headerlink" href="#transforming-nodes" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Map transformation</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree</span><span class="w"> </span><span class="kn">import</span> <span class="n">FluentNode</span>

<span class="c1"># Double all sizes</span>
<span class="p">(</span><span class="n">FluentNode</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="o">.</span><span class="n">descendants</span><span class="p">()</span>
    <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="n">n</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">}))</span>

<span class="c1"># Rename nodes matching pattern</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="p">(</span><span class="n">FluentNode</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="o">.</span><span class="n">descendants</span><span class="p">()</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;test_.*&quot;</span><span class="p">,</span> <span class="n">n</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
    <span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="nb">setattr</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">n</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;test_&quot;</span><span class="p">,</span> <span class="s2">&quot;spec_&quot;</span><span class="p">))))</span>
</pre></div>
</div>
</section>
<section id="pruning-trees">
<h3>Pruning Trees<a class="headerlink" href="#pruning-trees" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Remove leaf nodes</span>
<span class="p">(</span><span class="n">FluentNode</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="o">.</span><span class="n">prune</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="o">.</span><span class="n">is_leaf</span> <span class="ow">and</span> <span class="n">n</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;deprecated&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)))</span>

<span class="c1"># Remove empty directories</span>
<span class="k">def</span><span class="w"> </span><span class="nf">is_empty_dir</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;directory&quot;</span> <span class="ow">and</span>
            <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>

<span class="p">(</span><span class="n">FluentNode</span><span class="p">(</span><span class="n">root</span><span class="p">)</span><span class="o">.</span><span class="n">prune</span><span class="p">(</span><span class="n">is_empty_dir</span><span class="p">))</span>
</pre></div>
</div>
</section>
</section>
<section id="tree-analysis-patterns">
<h2>Tree Analysis Patterns<a class="headerlink" href="#tree-analysis-patterns" title="Link to this heading">¶</a></h2>
<section id="statistics-and-metrics">
<h3>Statistics and Metrics<a class="headerlink" href="#statistics-and-metrics" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Basic statistics</span>
<span class="n">total_nodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">traverse_preorder</span><span class="p">()))</span>
<span class="n">tree_height</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">height</span>
<span class="n">leaf_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">traverse_preorder</span><span class="p">()</span> <span class="k">if</span> <span class="n">n</span><span class="o">.</span><span class="n">is_leaf</span><span class="p">])</span>

<span class="c1"># Size analysis for file trees</span>
<span class="k">def</span><span class="w"> </span><span class="nf">total_size</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="n">size</span> <span class="o">+=</span> <span class="n">total_size</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">size</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total size: </span><span class="si">{</span><span class="n">total_size</span><span class="p">(</span><span class="n">root</span><span class="p">)</span><span class="si">}</span><span class="s2"> bytes&quot;</span><span class="p">)</span>

<span class="c1"># Find largest subtree</span>
<span class="k">def</span><span class="w"> </span><span class="nf">subtree_size</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">traverse_preorder</span><span class="p">()))</span>

<span class="n">largest</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">traverse_preorder</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="n">subtree_size</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="finding-patterns">
<h3>Finding Patterns<a class="headerlink" href="#finding-patterns" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Find unbalanced branches</span>
<span class="k">def</span><span class="w"> </span><span class="nf">is_unbalanced</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">heights</span> <span class="o">=</span> <span class="p">[</span><span class="n">child</span><span class="o">.</span><span class="n">height</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">heights</span><span class="p">)</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">heights</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span>

<span class="n">unbalanced</span> <span class="o">=</span> <span class="n">pattern_match</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">Pattern</span><span class="p">(</span><span class="n">predicate</span><span class="o">=</span><span class="n">is_unbalanced</span><span class="p">))</span>

<span class="c1"># Find duplicate names</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">Counter</span>

<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">traverse_preorder</span><span class="p">()]</span>
<span class="n">duplicates</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">names</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">]</span>

<span class="c1"># Find circular dependencies (if payload contains refs)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">has_circular_ref</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">visited</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">visited</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ref_name</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dependencies&quot;</span><span class="p">,</span> <span class="p">[]):</span>
        <span class="n">ref_node</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">ref_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ref_node</span> <span class="ow">and</span> <span class="n">has_circular_ref</span><span class="p">(</span><span class="n">ref_node</span><span class="p">,</span> <span class="n">visited</span><span class="o">.</span><span class="n">copy</span><span class="p">()):</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
</section>
<section id="tree-comparison-patterns">
<h2>Tree Comparison Patterns<a class="headerlink" href="#tree-comparison-patterns" title="Link to this heading">¶</a></h2>
<section id="comparing-trees">
<h3>Comparing Trees<a class="headerlink" href="#comparing-trees" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree</span><span class="w"> </span><span class="kn">import</span> <span class="n">Node</span>

<span class="c1"># Check if two trees have same structure</span>
<span class="k">def</span><span class="w"> </span><span class="nf">same_structure</span><span class="p">(</span><span class="n">tree1</span><span class="p">,</span> <span class="n">tree2</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tree1</span><span class="o">.</span><span class="n">children</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">tree2</span><span class="o">.</span><span class="n">children</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">tree1</span><span class="o">.</span><span class="n">children</span><span class="p">,</span> <span class="n">tree2</span><span class="o">.</span><span class="n">children</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">same_structure</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>

<span class="c1"># Find differences between trees</span>
<span class="k">def</span><span class="w"> </span><span class="nf">diff_trees</span><span class="p">(</span><span class="n">tree1</span><span class="p">,</span> <span class="n">tree2</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="n">diffs</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">current_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">tree1</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">path</span> <span class="k">else</span> <span class="n">tree1</span><span class="o">.</span><span class="n">name</span>

    <span class="c1"># Check current node</span>
    <span class="k">if</span> <span class="n">tree1</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">tree2</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="n">diffs</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">current_path</span><span class="p">,</span> <span class="n">tree1</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">tree2</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>

    <span class="c1"># Check payload differences</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">tree1</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">|</span> <span class="nb">set</span><span class="p">(</span><span class="n">tree2</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="n">val1</span> <span class="o">=</span> <span class="n">tree1</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="n">val2</span> <span class="o">=</span> <span class="n">tree2</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">val1</span> <span class="o">!=</span> <span class="n">val2</span><span class="p">:</span>
            <span class="n">diffs</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s2">&quot;payload&quot;</span><span class="p">,</span> <span class="n">current_path</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">))</span>

    <span class="c1"># Check children</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tree1</span><span class="o">.</span><span class="n">children</span><span class="p">,</span> <span class="n">tree2</span><span class="o">.</span><span class="n">children</span><span class="p">)):</span>
        <span class="n">diffs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">diff_trees</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">current_path</span><span class="p">))</span>

    <span class="c1"># Check for different number of children</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tree1</span><span class="o">.</span><span class="n">children</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">tree2</span><span class="o">.</span><span class="n">children</span><span class="p">):</span>
        <span class="n">diffs</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s2">&quot;children_count&quot;</span><span class="p">,</span> <span class="n">current_path</span><span class="p">,</span>
                     <span class="nb">len</span><span class="p">(</span><span class="n">tree1</span><span class="o">.</span><span class="n">children</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">tree2</span><span class="o">.</span><span class="n">children</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">diffs</span>
</pre></div>
</div>
</section>
<section id="merging-trees">
<h3>Merging Trees<a class="headerlink" href="#merging-trees" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Merge two trees with conflict resolution</span>
<span class="k">def</span><span class="w"> </span><span class="nf">merge_trees</span><span class="p">(</span><span class="n">tree1</span><span class="p">,</span> <span class="n">tree2</span><span class="p">,</span> <span class="n">conflict_resolver</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Merge tree2 into tree1.</span>
<span class="sd">    conflict_resolver(node1, node2) -&gt; Node</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Create merged root</span>
    <span class="k">if</span> <span class="n">conflict_resolver</span> <span class="ow">and</span> <span class="n">tree1</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">tree2</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="n">merged</span> <span class="o">=</span> <span class="n">conflict_resolver</span><span class="p">(</span><span class="n">tree1</span><span class="p">,</span> <span class="n">tree2</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">merged</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">tree1</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">tree1</span><span class="o">.</span><span class="n">payload</span><span class="p">)</span>

    <span class="c1"># Add children from tree1</span>
    <span class="n">child_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">child</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">child</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">tree1</span><span class="o">.</span><span class="n">children</span><span class="p">}</span>

    <span class="c1"># Merge children from tree2</span>
    <span class="k">for</span> <span class="n">child2</span> <span class="ow">in</span> <span class="n">tree2</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">child2</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">child_map</span><span class="p">:</span>
            <span class="c1"># Recursive merge for common children</span>
            <span class="n">merged_child</span> <span class="o">=</span> <span class="n">merge_trees</span><span class="p">(</span><span class="n">child_map</span><span class="p">[</span><span class="n">child2</span><span class="o">.</span><span class="n">name</span><span class="p">],</span> <span class="n">child2</span><span class="p">,</span>
                                     <span class="n">conflict_resolver</span><span class="p">)</span>
            <span class="n">merged</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">merged_child</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">merged_child</span><span class="o">.</span><span class="n">payload</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Add new child from tree2</span>
            <span class="n">merged</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">child2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">child2</span><span class="o">.</span><span class="n">payload</span><span class="p">)</span>

    <span class="c1"># Add remaining children from tree1</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">child1</span> <span class="ow">in</span> <span class="n">child_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">tree2</span><span class="o">.</span><span class="n">children</span><span class="p">):</span>
            <span class="n">merged</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">child1</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">child1</span><span class="o">.</span><span class="n">payload</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">merged</span>
</pre></div>
</div>
</section>
</section>
<section id="export-and-visualization-patterns">
<h2>Export and Visualization Patterns<a class="headerlink" href="#export-and-visualization-patterns" title="Link to this heading">¶</a></h2>
<section id="exporting-to-different-formats">
<h3>Exporting to Different Formats<a class="headerlink" href="#exporting-to-different-formats" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree</span><span class="w"> </span><span class="kn">import</span> <span class="n">export_tree</span><span class="p">,</span> <span class="n">save_tree</span>

<span class="c1"># Export to various formats</span>
<span class="n">json_str</span> <span class="o">=</span> <span class="n">export_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">dot_graph</span> <span class="o">=</span> <span class="n">export_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;graphviz&quot;</span><span class="p">,</span>
    <span class="n">node_attr</span><span class="o">=</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;shape&quot;</span><span class="p">:</span> <span class="s2">&quot;box&quot;</span><span class="p">,</span> <span class="s2">&quot;style&quot;</span><span class="p">:</span> <span class="s2">&quot;filled&quot;</span><span class="p">})</span>
<span class="n">mermaid</span> <span class="o">=</span> <span class="n">export_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;mermaid&quot;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;LR&quot;</span><span class="p">)</span>

<span class="c1"># Save to files with auto-format detection</span>
<span class="n">save_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;tree.json&quot;</span><span class="p">)</span>
<span class="n">save_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;tree.dot&quot;</span><span class="p">)</span>
<span class="n">save_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;tree.mmd&quot;</span><span class="p">)</span>
<span class="n">save_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;tree.html&quot;</span><span class="p">)</span>

<span class="c1"># Custom GraphViz with colors</span>
<span class="k">def</span><span class="w"> </span><span class="nf">node_color</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">is_leaf</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;fillcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;lightgreen&quot;</span><span class="p">,</span> <span class="s2">&quot;style&quot;</span><span class="p">:</span> <span class="s2">&quot;filled&quot;</span><span class="p">}</span>
    <span class="k">elif</span> <span class="n">node</span><span class="o">.</span><span class="n">is_root</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;fillcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;lightblue&quot;</span><span class="p">,</span> <span class="s2">&quot;style&quot;</span><span class="p">:</span> <span class="s2">&quot;filled&quot;</span><span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;fillcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;lightyellow&quot;</span><span class="p">,</span> <span class="s2">&quot;style&quot;</span><span class="p">:</span> <span class="s2">&quot;filled&quot;</span><span class="p">}</span>

<span class="n">dot</span> <span class="o">=</span> <span class="n">export_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;graphviz&quot;</span><span class="p">,</span> <span class="n">node_attr</span><span class="o">=</span><span class="n">node_color</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="pretty-printing">
<h3>Pretty Printing<a class="headerlink" href="#pretty-printing" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree</span><span class="w"> </span><span class="kn">import</span> <span class="n">pretty_tree</span><span class="p">,</span> <span class="n">PrettyTree</span>

<span class="c1"># Simple pretty print</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pretty_tree</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>

<span class="c1"># Custom pretty printing with markers</span>
<span class="n">printer</span> <span class="o">=</span> <span class="n">PrettyTree</span><span class="p">(</span>
    <span class="n">mark</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;important_node&quot;</span><span class="p">,</span> <span class="s2">&quot;critical_node&quot;</span><span class="p">],</span>
    <span class="n">node_details</span><span class="o">=</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">n</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;unknown&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">]&quot;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">printer</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>

<span class="c1"># Unicode vs ASCII</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pretty_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;unicode&quot;</span><span class="p">))</span>  <span class="c1"># ├── └── │</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pretty_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span>    <span class="c1"># +-- \-- |</span>
</pre></div>
</div>
</section>
</section>
<section id="advanced-patterns">
<h2>Advanced Patterns<a class="headerlink" href="#advanced-patterns" title="Link to this heading">¶</a></h2>
<section id="lazy-tree-loading">
<h3>Lazy Tree Loading<a class="headerlink" href="#lazy-tree-loading" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">LazyNode</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Node that loads children on demand.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">loader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_loader</span> <span class="o">=</span> <span class="n">loader</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_loaded</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">children</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loaded</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loader</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_children</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loader</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loaded</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_children</span>

<span class="c1"># Usage</span>
<span class="k">def</span><span class="w"> </span><span class="nf">load_directory</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load directory contents lazily.&quot;&quot;&quot;</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
    <span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">item_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">item_path</span><span class="p">):</span>
            <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">LazyNode</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">loader</span><span class="o">=</span><span class="n">load_directory</span><span class="p">,</span>
                                   <span class="n">path</span><span class="o">=</span><span class="n">item_path</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;dir&quot;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">item_path</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;file&quot;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">children</span>

<span class="c1"># Create lazy file system tree</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">LazyNode</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">loader</span><span class="o">=</span><span class="n">load_directory</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;dir&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="tree-visitors">
<h3>Tree Visitors<a class="headerlink" href="#tree-visitors" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">TreeVisitor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base visitor for tree traversal.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">visit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">method_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;visit_</span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;default&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">method</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">visit_default</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">method</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">visit_default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span>

<span class="k">class</span><span class="w"> </span><span class="nc">FileSystemVisitor</span><span class="p">(</span><span class="n">TreeVisitor</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total_size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dir_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">visit_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total_size</span> <span class="o">+=</span> <span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">visit_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dir_count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>

<span class="c1"># Usage</span>
<span class="n">visitor</span> <span class="o">=</span> <span class="n">FileSystemVisitor</span><span class="p">()</span>
<span class="n">visitor</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="n">fs_tree</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Files: </span><span class="si">{</span><span class="n">visitor</span><span class="o">.</span><span class="n">file_count</span><span class="si">}</span><span class="s2">, Dirs: </span><span class="si">{</span><span class="n">visitor</span><span class="o">.</span><span class="n">dir_count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="tree-generators">
<h3>Tree Generators<a class="headerlink" href="#tree-generators" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>

<span class="k">def</span><span class="w"> </span><span class="nf">generate_random_tree</span><span class="p">(</span><span class="n">depth</span><span class="p">,</span> <span class="n">branch_factor</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">name_prefix</span><span class="o">=</span><span class="s2">&quot;node&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a random tree with specified parameters.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name_prefix</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">level</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">level</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">level</span> <span class="o">&lt;</span> <span class="n">depth</span><span class="p">:</span>
            <span class="n">num_children</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">branch_factor</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_children</span><span class="p">):</span>
                <span class="n">child</span> <span class="o">=</span> <span class="n">build</span><span class="p">(</span><span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
                <span class="n">child</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">node</span>

        <span class="k">return</span> <span class="n">node</span>

    <span class="k">return</span> <span class="n">build</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># Generate test tree</span>
<span class="n">test_tree</span> <span class="o">=</span> <span class="n">generate_random_tree</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">branch_factor</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="performance-patterns">
<h2>Performance Patterns<a class="headerlink" href="#performance-patterns" title="Link to this heading">¶</a></h2>
<section id="efficient-tree-operations">
<h3>Efficient Tree Operations<a class="headerlink" href="#efficient-tree-operations" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cache computed values</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CachedNode</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_height_cache</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_height_cache</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_height_cache</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">max</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">height</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height_cache</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">size</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">invalidate_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_height_cache</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_size_cache</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">invalidate_cache</span><span class="p">()</span>

<span class="c1"># Batch operations</span>
<span class="k">def</span><span class="w"> </span><span class="nf">batch_update</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">updates</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Apply multiple updates efficiently.&quot;&quot;&quot;</span>
    <span class="c1"># Collect all nodes first</span>
    <span class="n">node_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">n</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">traverse_preorder</span><span class="p">()}</span>

    <span class="c1"># Apply updates</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">changes</span> <span class="ow">in</span> <span class="n">updates</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">node_map</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">node_map</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
            <span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">changes</span><span class="p">)</span>

    <span class="c1"># Single traversal for all updates</span>
    <span class="k">return</span> <span class="n">root</span>
</pre></div>
</div>
</section>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="fluent_api.html"><span class="doc">AlgoTree Fluent API Guide</span></a> - Fluent API documentation</p></li>
<li><p><a class="reference internal" href="pattern_matching.html"><span class="doc">Pattern Matching</span></a> - Pattern matching guide</p></li>
<li><p><a class="reference internal" href="tutorial.html"><span class="doc">AlgoTree: Comprehensive Tutorial</span></a> - Step-by-step tutorials</p></li>
<li><p><a class="reference external" href="https://github.com/queelius/AlgoTree/tree/main/examples">GitHub Examples</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">AlgoTree</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Getting Started:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="fluent_api.html">AlgoTree Fluent API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="pattern_matching.html">Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="transformations.html">Tree Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">AlgoTree: Comprehensive Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">AlgoTree Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tree-construction-patterns">Tree Construction Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tree-navigation-patterns">Tree Navigation Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tree-transformation-patterns">Tree Transformation Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tree-analysis-patterns">Tree Analysis Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tree-comparison-patterns">Tree Comparison Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#export-and-visualization-patterns">Export and Visualization Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-patterns">Advanced Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#performance-patterns">Performance Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Traditional API:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="flat_forest.html">FlatForest</a></li>
<li class="toctree-l1"><a class="reference internal" href="treenode.html">TreeNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="flat_forest_nb.html">FlatForest Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="expr_trees_nb.html">Expression Trees and Evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="identity.html">Understanding Equality in Trees and Nodes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools &amp; Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="jt.html">jt Command-Line Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">AlgoTree</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="tutorial.html" title="previous chapter">AlgoTree: Comprehensive Tutorial</a></li>
      <li>Next: <a href="flat_forest.html" title="next chapter">FlatForest</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Alex Towell.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/cookbook.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>