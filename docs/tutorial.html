<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>AlgoTree: Comprehensive Tutorial &#8212; AlgoTree 0.8.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=486e5634"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FlatForest Notebook" href="flat_forest_nb.html" />
    <link rel="prev" title="TreeNode" href="treenode.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="algotree-comprehensive-tutorial">
<h1>AlgoTree: Comprehensive Tutorial<a class="headerlink" href="#algotree-comprehensive-tutorial" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id1">1. Introduction</a></p></li>
<li><p><a class="reference internal" href="#installation" id="id2">2. Installation</a></p></li>
<li><p><a class="reference internal" href="#core-concepts" id="id3">3. Core Concepts</a></p>
<ul>
<li><p><a class="reference internal" href="#node-centric-api" id="id4">Node-Centric API</a></p></li>
<li><p><a class="reference internal" href="#tree-node-concept" id="id5">Tree Node Concept</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#flatforest-a-flexible-tree-structure" id="id6">4. FlatForest: A Flexible Tree Structure</a></p></li>
<li><p><a class="reference internal" href="#treenode-a-simple-recursive-tree-structure" id="id7">5. TreeNode: A Simple Recursive Tree Structure</a></p></li>
<li><p><a class="reference internal" href="#tree-traversal-and-manipulation" id="id8">6. Tree Traversal and Manipulation</a></p></li>
<li><p><a class="reference internal" href="#tree-visualization" id="id9">7. Tree Visualization</a></p></li>
<li><p><a class="reference internal" href="#tree-conversion" id="id10">8. Tree Conversion</a></p></li>
<li><p><a class="reference internal" href="#advanced-features" id="id11">9. Advanced Features</a></p>
<ul>
<li><p><a class="reference internal" href="#node-hashing" id="id12">Node Hashing</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#working-with-subtrees" id="id13">10. Working with Subtrees</a></p></li>
<li><p><a class="reference internal" href="#expression-trees-and-evaluation" id="id14">11. Expression Trees and Evaluation</a></p></li>
<li><p><a class="reference internal" href="#conclusion" id="id15">12. Conclusion</a></p></li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">1. Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>AlgoTree is a Python library that provides flexible and powerful tools for working with tree-like data structures. It offers various implementations of trees, along with utilities for manipulation, traversal, and visualization. The key feature of AlgoTree is its node-centric API, which provides a consistent interface across different tree implementations.</p>
</section>
<section id="installation">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">2. Installation</a><a class="headerlink" href="#installation" title="Link to this heading">¶</a></h2>
<p>To install AlgoTree, use pip:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>algotree
</pre></div>
</div>
</section>
<section id="core-concepts">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">3. Core Concepts</a><a class="headerlink" href="#core-concepts" title="Link to this heading">¶</a></h2>
<section id="node-centric-api">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Node-Centric API</a><a class="headerlink" href="#node-centric-api" title="Link to this heading">¶</a></h3>
<p>AlgoTree implements a node-centric API, which means that operations are performed from the perspective of individual nodes rather than the tree as a whole. This approach provides a consistent interface across different tree implementations and allows for intuitive navigation and manipulation of tree structures.</p>
</section>
<section id="tree-node-concept">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Tree Node Concept</a><a class="headerlink" href="#tree-node-concept" title="Link to this heading">¶</a></h3>
<p>In AlgoTree, a tree node must implement the following properties and methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">children</span></code>: A list of child nodes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parent</span></code>: The parent node (None for root nodes).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">node(name:</span> <span class="pre">str)</span> <span class="pre">-&gt;</span> <span class="pre">NodeType</span></code>: Returns a node in the current subtree by name.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">root</span></code>: The root node of the current subtree.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">payload</span></code>: The data associated with the node.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: An identifier for the node.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contains(name)</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></code>: Checks if a node with the given name exists in the subtree.</p></li>
</ul>
<p>Optional methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">subtree(name:</span> <span class="pre">Optional[str]</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">-&gt;</span> <span class="pre">NodeType</span></code>: Returns a view of another subtree.</p></li>
</ul>
</section>
</section>
<section id="flatforest-a-flexible-tree-structure">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">4. FlatForest: A Flexible Tree Structure</a><a class="headerlink" href="#flatforest-a-flexible-tree-structure" title="Link to this heading">¶</a></h2>
<p>FlatForest represents a tree or forest using a flat dictionary structure.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree.flat_forest</span><span class="w"> </span><span class="kn">import</span> <span class="n">FlatForest</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree.flat_forest_node</span><span class="w"> </span><span class="kn">import</span> <span class="n">FlatForestNode</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;Root&quot;</span><span class="p">},</span>
    <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;Child of A&quot;</span><span class="p">},</span>
    <span class="s2">&quot;C&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;Another child of A&quot;</span><span class="p">},</span>
    <span class="s2">&quot;D&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;Child of B&quot;</span><span class="p">}</span>
<span class="p">}</span>

<span class="n">forest</span> <span class="o">=</span> <span class="n">FlatForest</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Accessing nodes</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">forest</span><span class="o">.</span><span class="n">subtree</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>  <span class="c1"># FlatForestNode(name=A, parent=None, payload={&#39;data&#39;: &#39;Root&#39;}, root=A, children=[&#39;B&#39;, &#39;C&#39;])</span>

<span class="c1"># Adding a new node</span>
<span class="n">forest</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;C&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="s2">&quot;Child of C&quot;</span><span class="p">)</span>

<span class="c1"># Traversing the tree</span>
<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">forest</span><span class="o">.</span><span class="n">subtree</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="treenode-a-simple-recursive-tree-structure">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">5. TreeNode: A Simple Recursive Tree Structure</a><a class="headerlink" href="#treenode-a-simple-recursive-tree-structure" title="Link to this heading">¶</a></h2>
<p>TreeNode provides a traditional recursive tree structure.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree.treenode</span><span class="w"> </span><span class="kn">import</span> <span class="n">TreeNode</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;root&quot;</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">a</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>

<span class="nb">print</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>  <span class="c1"># [TreeNode(name=A, ...), TreeNode(name=B, ...)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>  <span class="c1"># A</span>

<span class="c1"># Cloning a subtree</span>
<span class="n">cloned_a</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cloned_a</span><span class="p">)</span>  <span class="c1"># TreeNode(name=A, parent=None, root=A, payload={&#39;value&#39;: 1}, len(children)=1)</span>
</pre></div>
</div>
</section>
<section id="tree-traversal-and-manipulation">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">6. Tree Traversal and Manipulation</a><a class="headerlink" href="#tree-traversal-and-manipulation" title="Link to this heading">¶</a></h2>
<p>AlgoTree provides utility functions for tree traversal and manipulation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree</span><span class="w"> </span><span class="kn">import</span> <span class="n">utils</span>

<span class="c1"># Get descendants</span>
<span class="n">descendants</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">descendants</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="nb">print</span><span class="p">([</span><span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">descendants</span><span class="p">])</span>  <span class="c1"># [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]</span>

<span class="c1"># Find leaves</span>
<span class="n">leaves</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">leaves</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="nb">print</span><span class="p">([</span><span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">leaves</span><span class="p">])</span>  <span class="c1"># [&#39;C&#39;, &#39;B&#39;]</span>

<span class="c1"># Get tree height</span>
<span class="n">height</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">height</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>  <span class="c1"># 2</span>

<span class="c1"># Breadth-first traversal</span>
<span class="k">def</span><span class="w"> </span><span class="nf">print_node</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Level </span><span class="si">{</span><span class="n">level</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="n">utils</span><span class="o">.</span><span class="n">breadth_first</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">print_node</span><span class="p">)</span>
<span class="c1"># Output:</span>
<span class="c1"># Level 0: root</span>
<span class="c1"># Level 1: A</span>
<span class="c1"># Level 1: B</span>
<span class="c1"># Level 2: C</span>
</pre></div>
</div>
</section>
<section id="tree-visualization">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">7. Tree Visualization</a><a class="headerlink" href="#tree-visualization" title="Link to this heading">¶</a></h2>
<p>Use the <code class="docutils literal notranslate"><span class="pre">pretty_tree</span></code> function to visualize trees:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree.pretty_tree</span><span class="w"> </span><span class="kn">import</span> <span class="n">pretty_tree</span>

<span class="nb">print</span><span class="p">(</span><span class="n">pretty_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">node_details</span><span class="o">=</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>root ◄ 0
├───── A ◄ 1
│      └───── C ◄ 3
└───── B ◄ 2
</pre></div>
</div>
</section>
<section id="tree-conversion">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">8. Tree Conversion</a><a class="headerlink" href="#tree-conversion" title="Link to this heading">¶</a></h2>
<p>AlgoTree allows conversion between different tree representations:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree.tree_converter</span><span class="w"> </span><span class="kn">import</span> <span class="n">TreeConverter</span>

<span class="c1"># Convert FlatForest to TreeNode</span>
<span class="n">flat_forest_root</span> <span class="o">=</span> <span class="n">forest</span><span class="o">.</span><span class="n">subtree</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">)</span>
<span class="n">tree_node_root</span> <span class="o">=</span> <span class="n">TreeConverter</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">flat_forest_root</span><span class="p">,</span> <span class="n">TreeNode</span><span class="p">)</span>

<span class="c1"># Convert TreeNode to dictionary</span>
<span class="n">tree_dict</span> <span class="o">=</span> <span class="n">TreeConverter</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">tree_node_root</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tree_dict</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="advanced-features">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">9. Advanced Features</a><a class="headerlink" href="#advanced-features" title="Link to this heading">¶</a></h2>
<section id="node-hashing">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Node Hashing</a><a class="headerlink" href="#node-hashing" title="Link to this heading">¶</a></h3>
<p>AlgoTree provides various hash functions for comparing nodes and trees:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">AlgoTree.node_hash</span><span class="w"> </span><span class="kn">import</span> <span class="n">NodeHash</span>

<span class="c1"># Assuming we have two nodes &#39;node1&#39; and &#39;node2&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">NodeHash</span><span class="o">.</span><span class="n">name_hash</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span> <span class="o">==</span> <span class="n">NodeHash</span><span class="o">.</span><span class="n">name_hash</span><span class="p">(</span><span class="n">node2</span><span class="p">))</span>  <span class="c1"># Compare nodes by name</span>
<span class="nb">print</span><span class="p">(</span><span class="n">NodeHash</span><span class="o">.</span><span class="n">node_hash</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span> <span class="o">==</span> <span class="n">NodeHash</span><span class="o">.</span><span class="n">node_hash</span><span class="p">(</span><span class="n">node2</span><span class="p">))</span>  <span class="c1"># Compare nodes by name and payload</span>
<span class="nb">print</span><span class="p">(</span><span class="n">NodeHash</span><span class="o">.</span><span class="n">tree_hash</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span> <span class="o">==</span> <span class="n">NodeHash</span><span class="o">.</span><span class="n">tree_hash</span><span class="p">(</span><span class="n">node2</span><span class="p">))</span>  <span class="c1"># Compare entire subtrees</span>
</pre></div>
</div>
</section>
</section>
<section id="working-with-subtrees">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">10. Working with Subtrees</a><a class="headerlink" href="#working-with-subtrees" title="Link to this heading">¶</a></h2>
<p>AlgoTree allows you to work with subtrees, maintaining consistency with the original tree:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Using FlatForest</span>
<span class="n">subtree_B</span> <span class="o">=</span> <span class="n">forest</span><span class="o">.</span><span class="n">subtree</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pretty_tree</span><span class="p">(</span><span class="n">subtree_B</span><span class="p">))</span>

<span class="c1"># Add a child to the subtree</span>
<span class="n">subtree_B</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;F&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="s2">&quot;Child of B&quot;</span><span class="p">)</span>

<span class="c1"># The change is reflected in the original tree</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pretty_tree</span><span class="p">(</span><span class="n">forest</span><span class="o">.</span><span class="n">subtree</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">)))</span>

<span class="c1"># Using TreeNode</span>
<span class="n">subtree_A</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pretty_tree</span><span class="p">(</span><span class="n">subtree_A</span><span class="p">))</span>

<span class="c1"># Modify the subtree</span>
<span class="n">subtree_A</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">})</span>

<span class="c1"># The change is reflected in the original tree</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pretty_tree</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="expression-trees-and-evaluation">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">11. Expression Trees and Evaluation</a><a class="headerlink" href="#expression-trees-and-evaluation" title="Link to this heading">¶</a></h2>
<p>Let’s create and evaluate an expression tree using AlgoTree:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">expr</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;op&quot;</span><span class="p">,</span>
    <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;max&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;op&quot;</span><span class="p">,</span>
            <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;var&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">},</span>
                <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;const&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
            <span class="p">],</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;op&quot;</span><span class="p">,</span>
            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
            <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;var&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;y&quot;</span><span class="p">},</span>
                <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;const&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
            <span class="p">],</span>
        <span class="p">},</span>
    <span class="p">],</span>
<span class="p">})</span>

<span class="nb">print</span><span class="p">(</span><span class="n">pretty_tree</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">node_name</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]))</span>

<span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;const&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;var&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">context</span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]]</span>
    <span class="k">elif</span> <span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;op&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;+&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">evaluate</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">node</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">evaluate</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>

<span class="n">context</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">evaluate</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Result: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Should print: Result: 9</span>
</pre></div>
</div>
</section>
<section id="conclusion">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">12. Conclusion</a><a class="headerlink" href="#conclusion" title="Link to this heading">¶</a></h2>
<p>This tutorial has covered the main features of AlgoTree, demonstrating how to work with different tree implementations, traverse and manipulate trees, visualize tree structures, and even create and evaluate expression trees. The node-centric API provides a consistent interface across different tree types, making it easier to work with complex tree structures in Python.</p>
<p>Remember that AlgoTree is flexible and can be extended to suit various tree-based applications. Whether you’re working on data structures, parsing, or any domain that requires hierarchical data representation, AlgoTree provides a solid foundation for your tree-related operations.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">AlgoTree</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="flat_forest.html">FlatForest</a></li>
<li class="toctree-l1"><a class="reference internal" href="treenode.html">TreeNode</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">AlgoTree: Comprehensive Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">2. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#core-concepts">3. Core Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#flatforest-a-flexible-tree-structure">4. FlatForest: A Flexible Tree Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#treenode-a-simple-recursive-tree-structure">5. TreeNode: A Simple Recursive Tree Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tree-traversal-and-manipulation">6. Tree Traversal and Manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tree-visualization">7. Tree Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tree-conversion">8. Tree Conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-features">9. Advanced Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#working-with-subtrees">10. Working with Subtrees</a></li>
<li class="toctree-l2"><a class="reference internal" href="#expression-trees-and-evaluation">11. Expression Trees and Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conclusion">12. Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="flat_forest_nb.html">FlatForest Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="expr_trees_nb.html">Expression Trees and Evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="identity.html">Understanding Equality in Trees and Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="jt.html">jt Command-Line Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">AlgoTree</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="treenode.html" title="previous chapter">TreeNode</a></li>
      <li>Next: <a href="flat_forest_nb.html" title="next chapter">FlatForest Notebook</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Alex Towell.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/tutorial.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>