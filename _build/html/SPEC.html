<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FlatTree Specification &mdash; treekit 0.7 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/documentation_options.js?v=48f8e935"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Expression Trees with TreeNode" href="TREENODE.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            treekit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="treekit.flattree.html">treekit.flattree module</a></li>
<li class="toctree-l1"><a class="reference internal" href="treekit.tree_converter.html">treekit.tree_converter module</a></li>
<li class="toctree-l1"><a class="reference internal" href="treekit.tree_convert.html">treekit.tree_convert module</a></li>
<li class="toctree-l1"><a class="reference internal" href="treekit.treenode.html">treekit.treenode module</a></li>
<li class="toctree-l1"><a class="reference internal" href="treekit.tree_viz.html">treekit.tree_viz module</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Python package: <code class="docutils literal notranslate"><span class="pre">treekit</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="FLATTREE.html">FlatTree Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="TREENODE.html">Expression Trees with <code class="docutils literal notranslate"><span class="pre">TreeNode</span></code></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FlatTree Specification</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">treekit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">FlatTree Specification</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/SPEC.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="flattree-specification">
<h1>FlatTree Specification<a class="headerlink" href="#flattree-specification" title="Link to this heading">¶</a></h1>
<p>The dict (or JSON) data should have the following structure:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;&lt;node_key&gt;&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// Parent node key (optional). If blank, we assume it connects to the root node.</span>
<span class="w">      </span><span class="c1">// The root node is a &quot;dummy&quot; node that always exists with a key</span>
<span class="w">      </span><span class="c1">// that is not present in the JSON data, e.g., &quot;root&quot;.</span>
<span class="w">      </span><span class="nt">&quot;parent&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;parent_node_key&gt;&quot;</span><span class="p">,</span>

<span class="w">      </span><span class="c1">// Node payload (optional key-value pairs)</span>
<span class="w">      </span><span class="nt">&quot;&lt;key&gt;&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;value&gt;&quot;</span><span class="w"> </span><span class="c1">// ... more key-value pairs</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="c1">// ... more node key-value pairs</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="raw-html-m2r"><node_key></span> is the key (unique name or label) of a node.</p>
<ul>
<li><p>Must be unique within the tree.</p></li>
</ul>
</li>
<li><p><span class="raw-html-m2r"><parent_node_key></span> is the key of the parent node.</p>
<ul>
<li><p>If a node has no parent key specified, its parent is the logical root node.</p></li>
<li><p>TODO: Considering allowing an alternative way of loading the tree from JSON.</p>
<ul>
<li><p>Have a dictionary with a <code class="docutils literal notranslate"><span class="pre">mapping</span></code> key that defines the tree structure.</p></li>
<li><p>However, outside the mapping key, all of that data is the payload of the
logical root node. We will make the logical root node mutable so that
the metadata can be modified.</p></li>
<li><p>This will coexist with the current format.</p></li>
</ul>
</li>
<li><p>The root node is a “dummy” node and the payload of the root node
is the “metadata” of the tree.</p></li>
</ul>
</li>
<li><p>The payload of a node is a dictionary of key-value pairs.</p>
<ul>
<li><p>The payload can be any dictionary.</p></li>
<li><p>When we refer to the “data” of a node, we mean the payload of the node.</p></li>
<li><p>node[”<span class="raw-html-m2r"><key></span>“’] refers to the value of the key in the node’s payload.</p></li>
</ul>
</li>
</ul>
<p>We expose a tree API that allows you to work within the domain of the tree,
but the underlying dictionary (which the tree has an is-a relationship with)
can be directly modified too. The tree API is a convenience layer on top of
the dictionary.</p>
<p>Here is what the newer format looks like:</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>json
{</p>
<blockquote>
<div><p>“<span class="raw-html-m2r"><key></span>“: “<span class="raw-html-m2r"><value></span>“,
// as many more key-value pairs (meta-data or payload of logical root)
“mapping”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“<span class="raw-html-m2r"><node_key></span>“: {</dt><dd><p>// Parent node key (optional). If blank, we assume it connects to the root node.
// The root node is a “dummy” node that always exists with a key
// that is not present in the JSON data, e.g., “root”.
“parent”: “<span class="raw-html-m2r"><parent_node_key></span>“,</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>     <span class="o">//</span> <span class="n">Node</span> <span class="n">payload</span> <span class="p">(</span><span class="n">optional</span> <span class="n">key</span><span class="o">-</span><span class="n">value</span> <span class="n">pairs</span><span class="p">)</span>
     <span class="s2">&quot;&lt;key&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;value&gt;&quot;</span> <span class="o">//</span> <span class="o">...</span> <span class="n">more</span> <span class="n">key</span><span class="o">-</span><span class="n">value</span> <span class="n">pairs</span>
 <span class="p">}</span>

<span class="o">//</span> <span class="o">...</span> <span class="n">more</span> <span class="n">node</span> <span class="n">key</span><span class="o">-</span><span class="n">value</span> <span class="n">pairs</span>
<span class="p">}</span>
</pre></div>
</div>
<p>}</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="TREENODE.html" class="btn btn-neutral float-left" title="Expression Trees with TreeNode" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Alex Towell.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>